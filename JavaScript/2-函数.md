## 2-函数

### 定义函数

```javascript
function abs(x) {
    if (x >= 0) {
        return x;
    } else {
        return -x;
    }
}
```
```javascript
var abs = function (x) {
    if (x >= 0) {
        return x;
    } else {
        return -x;
    }
};
```
> 如果没有`return`语句，函数会返回`undefined`

### 调用函数

**传参的任意性**
> JavaScript允许为函数传入比`定义`参数多或少的参数，少于`定义`的传参，会导致多余的参数`undefined`

为避免收到`undefined`，可以对参数进行检查
```javascript
function abs(x) {
    if (typeof x !== 'number') {
        throw 'Not a number';
    }
    if (x >= 0) {
        return x;
    } else {
        return -x;
    }
}
```

### arguments
> `arguments`类似`Array`，可以获取传入函数的所有参数，常用于判断参数个数`arguments.length()`

### rest参数
> ES6引入，用于获取多于函数定义的参数，如果rest为空吗，接收到的是空数组，**而不是`undefined`**
```javascript
function foo(a, b, ...rest) {
    console.log('a = ' + a);
    console.log('b = ' + b);
    console.log(rest);
}

foo(1, 2, 3, 4, 5);
// 结果:
// a = 1
// b = 2
// Array [ 3, 4, 5 ]

foo(1);
// 结果:
// a = 1
// b = undefined
// Array []
```

### 变量生存域
>同C语言，变量存活于`{}`中，注意变量屏蔽效果
>
> JavaScript支持函数嵌套

### 变量提升
```javascript
'use strict';

function foo() {
    var x = 'Hello, ' + y;
    console.log(x);
    var y = 'Bob';
}

foo();
```
> `y`未声明便使用但是没有报错，说明JS引擎将`y`声明提前，**但是没有提升`y`的赋值，在此时`y=undefined`**
>
> 针对这一特性，在函数内部首先声明所有变量
```javascript
function foo() {
    var
        x = 1, // x初始化为1
        y = x + 1, // y初始化为2
        z, i; // z和i为undefined
    // 其他语句:
    for (i=0; i<100; i++) {
       //...
    }
}
```

### 全局作用域
